{"id":"quote-of-the-day-0ol","title":"Extract shared wallpaper rendering logic","description":"WallpaperPreview and WallpaperGenerator have nearly identical rendering logic. Extract to shared component.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-07T16:40:51.2698667+01:00","created_by":"GLi","updated_at":"2026-01-08T21:09:33.4768892+01:00","closed_at":"2026-01-08T21:09:33.4768892+01:00","close_reason":"Premature refactoring. Customization features (font size, positioning, colors) will change this code anyway. Better to extract shared logic after those features stabilize."}
{"id":"quote-of-the-day-1nd","title":"Add custom wallpaper colors","description":"Add color customization beyond dark/light presets.\n\n**Scope:**\n- Add color picker for background color\n- Add color picker for quote text color\n- Add color picker for author text color\n- Keep dark/light toggle as quick presets that set all colors at once\n\n**Settings:**\n- `wallpaperBgColor`: hex string (default: #000000 or #FFFFFF based on dark mode)\n- `wallpaperTextColor`: hex string (default: #FFFFFF or #000000)\n- `wallpaperAuthorColor`: hex string (default: #AAAAAA or #666666)\n\n**UI Options:**\n- Use a color picker library (react-native-color-picker or similar)\n- Or: preset color palette with common choices\n- Reset button to restore defaults\n\n**Note:** This is lower priority (P4) as dark/light toggle covers most use cases. Custom colors are a nice-to-have for power users.\n\n**Acceptance Criteria:**\n- [ ] Can pick custom background color\n- [ ] Can pick custom text colors\n- [ ] Dark/light toggle resets to preset colors\n- [ ] Colors persist and apply to generated wallpapers","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-08T20:56:58.8722929+01:00","created_by":"GLi","updated_at":"2026-01-08T20:56:58.8722929+01:00"}
{"id":"quote-of-the-day-3r8","title":"Add wallpaper display options","description":"Add toggle options for quote display elements.\n\n**Scope:**\n- Add `wallpaperShowQuotes` setting (boolean, default: true)\n  - When true: \"\"{text}\"\" (current)\n  - When false: text only, no quotation marks\n- Add `wallpaperShowAuthor` setting (boolean, default: true)\n  - When true: shows \"— {author}\" (current)\n  - When false: hides author line entirely\n\n**UI:** Two toggle switches in Settings under 'Wallpaper Style' section\n\n**Implementation:**\n1. Add settings to database\n2. Conditional rendering in WallpaperPreview/WallpaperGenerator:\n   ```typescript\n   {showQuotes ? `\"${text}\"` : text}\n   {showAuthor \u0026\u0026 \u003cText\u003e— {author}\u003c/Text\u003e}\n   ```\n3. Invalidate cache on change\n\n**Acceptance Criteria:**\n- [ ] Can toggle quotation marks on/off\n- [ ] Can toggle author display on/off\n- [ ] Combinations work (quotes only, author only, both, neither)\n- [ ] Preview updates immediately","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-08T20:56:56.9688622+01:00","created_by":"GLi","updated_at":"2026-01-08T20:56:56.9688622+01:00"}
{"id":"quote-of-the-day-46e","title":"Add wallpaper quote positioning","description":"Add vertical positioning options for quote text on wallpaper.\n\n**Scope:**\n- Add `wallpaperPosition` setting (values: 'top', 'center', 'bottom')\n- Default: 'center' (current behavior)\n- Add segmented control in Settings under 'Wallpaper Style' section\n\n**Implementation:**\n- Use flexbox `justifyContent` to position:\n  - top: `flex-start` + top padding\n  - center: `center` (current)\n  - bottom: `flex-end` + bottom padding\n- Update both WallpaperPreview and WallpaperGenerator\n\n**Acceptance Criteria:**\n- [ ] Three position options available in Settings\n- [ ] Preview shows position change immediately\n- [ ] Cached wallpapers regenerate with new position\n- [ ] Top/bottom positions have safe padding from screen edges","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-08T20:56:54.4649688+01:00","created_by":"GLi","updated_at":"2026-01-08T20:56:54.4649688+01:00"}
{"id":"quote-of-the-day-4dv","title":"Add wallpaper font size control","description":"Add font size presets for wallpaper quote text.\n\n**Scope:**\n- Add `wallpaperFontSize` setting to database (values: 'small', 'medium', 'large')\n- Default: 'medium' (current behavior)\n- Add segmented control in Settings under 'Wallpaper Style' section\n\n**Size Mapping:**\n- Small: `captureWidth * 0.03`\n- Medium: `captureWidth * 0.04` (current)\n- Large: `captureWidth * 0.05`\n\n**Implementation:**\n1. Add setting to `src/db/settings.ts` SettingKey type\n2. Update `WallpaperPreview` to read setting and apply size\n3. Update `WallpaperGenerator` to match\n4. Add UI control in `app/settings.tsx`\n5. Invalidate wallpaper cache when setting changes\n\n**Acceptance Criteria:**\n- [ ] Three font size options available in Settings\n- [ ] Preview updates immediately when changed\n- [ ] Cached wallpapers regenerate with new size\n- [ ] Setting persists across app restarts","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-08T20:56:51.817726+01:00","created_by":"GLi","updated_at":"2026-01-08T20:56:51.817726+01:00"}
{"id":"quote-of-the-day-5ql","title":"Add React error boundaries","description":"Add React error boundaries to catch render-time crashes gracefully.\n\n**Problem:** Currently, render errors crash the entire app with a raw error screen. Users have no recovery option except force-closing.\n\n**Recommended Architecture:**\n\n1. **Root Error Boundary** (Priority 1)\n   - Wrap entire app in `app/_layout.tsx`\n   - Catches: provider failures, navigation errors, initialization crashes\n   - Fallback: Full-screen error UI with 'Restart App' button\n\n2. **Screen-Level Boundaries** (Priority 2)\n   - Wrap each tab screen's content\n   - Catches: screen-specific render errors\n   - Fallback: 'Something went wrong' + 'Go Back' button\n   \n   Screens to wrap:\n   - Today (index.tsx) - wallpaper generation errors\n   - Quotes list (quotes/index.tsx) - large list rendering\n   - Categories (categories.tsx) - CRUD failures\n   - Settings (settings.tsx) - storage access errors\n   - Quote form (quotes/[id].tsx) - form errors\n   - Import (quotes/import.tsx) - API/parsing errors\n\n**Implementation:**\n- Create `src/components/ErrorBoundary.tsx` (class component, React requirement)\n- Props: `fallback` (custom UI) or default fallback\n- Log errors for debugging (integrate with Sentry if available)\n\n**Acceptance Criteria:**\n- [ ] Root boundary catches and displays fallback for provider errors\n- [ ] Screen boundaries isolate failures (one screen crash doesn't take down app)\n- [ ] Fallback UI allows user to recover (go back, retry, or restart)\n- [ ] Errors are logged with component stack","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T16:41:05.57166+01:00","created_by":"GLi","updated_at":"2026-01-08T20:56:14.2002123+01:00"}
{"id":"quote-of-the-day-8xi","title":"Add search to quotes list","description":"Users with many quotes need a way to search by text or author","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T16:40:15.1458531+01:00","created_by":"GLi","updated_at":"2026-01-07T16:40:15.1458531+01:00"}
{"id":"quote-of-the-day-9ol","title":"Deduplicate AI prompt and extractJSON","description":"buildSystemPrompt and extractJSON are duplicated in bulkImport.ts and worker/src/index.ts. Create single source of truth.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-07T16:40:57.3947038+01:00","created_by":"GLi","updated_at":"2026-01-08T21:33:53.6850047+01:00","closed_at":"2026-01-08T21:33:53.6850047+01:00","close_reason":"Duplication is acceptable for separate deployments. Play Store subscription feature (h3i) will reshape the worker's role anyway - better to revisit architecture then."}
{"id":"quote-of-the-day-bei","title":"Add quote export/backup feature","description":"Add quote export feature for backup and sharing.\n\n**Context:** Import already exists via the bulk import screen. This adds the export side.\n\n**Scope:**\n- Export all quotes (with categories) to JSON format\n- Use device share sheet for flexible destination (save to files, email, cloud, etc.)\n- Include metadata: export date, app version, quote count\n\n**Export Format (JSON):**\n```json\n{\n  \"exportedAt\": \"2026-01-08T...\",\n  \"appVersion\": \"1.0.0\",\n  \"quoteCount\": 42,\n  \"quotes\": [\n    { \"text\": \"...\", \"author\": \"...\", \"categories\": [\"Motivation\", \"Life\"] }\n  ]\n}\n```\n\n**UI Location:** Settings screen → 'Export Quotes' button\n\n**Acceptance Criteria:**\n- [ ] Tapping export generates JSON file\n- [ ] Share sheet opens with file\n- [ ] Exported file can be re-imported via existing import flow\n- [ ] Works with 0 quotes (exports empty array, no crash)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T16:40:26.1344233+01:00","created_by":"GLi","updated_at":"2026-01-08T20:56:08.7246658+01:00"}
{"id":"quote-of-the-day-bg2","title":"Add wallpaper customization options","description":"Allow users to customize wallpaper appearance: font size, text positioning, background color or image options.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-07T16:40:32.9075812+01:00","created_by":"GLi","updated_at":"2026-01-08T20:56:25.6600232+01:00","closed_at":"2026-01-08T20:56:25.6600232+01:00","close_reason":"Scope too large. Breaking into smaller, independently deliverable tasks: font size, positioning, display options, and custom colors."}
{"id":"quote-of-the-day-d5r","title":"Move StyleSheet.create outside components","description":"Move StyleSheet.create calls from inside components to module scope.\n\n**Problem:** StyleSheet.create inside component functions recreates style objects on every render, causing unnecessary allocations.\n\n**Files to fix (6 total):**\n- `app/index.tsx` (line ~123)\n- `app/settings.tsx` (line ~87)\n- `app/quotes/index.tsx` (line ~70)\n- `app/quotes/[id].tsx` (line ~72)\n- `app/quotes/import.tsx` (line ~178)\n- `app/categories.tsx` (line ~63)\n\n**Files already correct:** WallpaperPreview.tsx, WallpaperGenerator.tsx ✓\n\n**Pattern to follow:**\n```typescript\n// BEFORE (inside component)\nexport default function Screen() {\n  const { colors } = useTheme();\n  const styles = StyleSheet.create({ container: { backgroundColor: colors.bg } });\n  ...\n}\n\n// AFTER (at module scope, dynamic colors inline)\nexport default function Screen() {\n  const { colors } = useTheme();\n  return \u003cView style={[styles.container, { backgroundColor: colors.bg }]} /\u003e;\n}\n\nconst styles = StyleSheet.create({\n  container: { flex: 1 },\n});\n```\n\n**Acceptance Criteria:**\n- [ ] All 6 files have StyleSheet.create at module scope\n- [ ] Theme-dependent colors applied via inline styles or style arrays\n- [ ] No visual regressions","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-07T16:40:20.8072737+01:00","created_by":"GLi","updated_at":"2026-01-08T20:56:11.3374+01:00"}
{"id":"quote-of-the-day-gjl","title":"Add crash reporting for production error tracking","description":"Add Sentry crash reporting for production error tracking.\n\n**Why:** Currently no visibility into production crashes. Users may experience issues we never hear about.\n\n**Scope:**\n- Install @sentry/react-native (Expo-compatible)\n- Initialize in app/_layout.tsx\n- Capture unhandled exceptions and promise rejections\n- Include device info and app version in reports\n- Respect user privacy (no PII in breadcrumbs)\n\n**Acceptance Criteria:**\n- [ ] Sentry SDK initialized on app start\n- [ ] Test crash appears in Sentry dashboard\n- [ ] Source maps uploaded for readable stack traces\n- [ ] Works in production builds (not just dev)\n\n**References:** https://docs.sentry.io/platforms/react-native/manual-setup/expo/","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T15:44:47.460263+01:00","created_by":"GLi","updated_at":"2026-01-08T20:55:39.3807433+01:00"}
{"id":"quote-of-the-day-h3i","title":"Add subscription for managed AI bulk import","description":"Add Play Store subscription for managed AI bulk import.\n\n**Context:** Currently users must provide their own XAI API key for bulk import. This adds a paid tier where users subscribe and use a managed API instead.\n\n**Tiers:**\n- **Free**: User provides own XAI API key in Settings\n- **Subscription**: User pays monthly, app uses managed API (worker with server-side key)\n\n**Scope:**\n1. **Play Store Billing Integration**\n   - Add Google Play Billing library\n   - Create subscription product in Play Console\n   - Handle purchase flow and subscription status\n\n2. **Subscriber Verification**\n   - Store subscription status locally\n   - Worker validates subscriber (purchase token or user ID)\n   - Rate limiting per subscriber (more generous than IP-based)\n\n3. **App UI Changes**\n   - Subscription option in Settings (instead of API key input)\n   - Show current subscription status\n   - Restore purchases functionality\n\n4. **Worker Changes**\n   - Authenticate subscribers (verify purchase token)\n   - Use server-side XAI API key for verified subscribers\n   - Keep existing IP rate limiting for non-subscribers\n\n**Acceptance Criteria:**\n- [ ] Can subscribe via Play Store\n- [ ] Subscribers can bulk import without API key\n- [ ] Subscription status persists and restores correctly\n- [ ] Worker rejects non-subscribers trying to use managed API\n- [ ] Graceful handling of expired/cancelled subscriptions","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-07T15:44:53.736202+01:00","created_by":"GLi","updated_at":"2026-01-08T21:33:55.6967796+01:00"}
{"id":"quote-of-the-day-hbb","title":"Add sequential rotation option","description":"Some users prefer quotes in order rather than random. Add rotation mode setting: random vs sequential.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-07T16:40:39.7119758+01:00","created_by":"GLi","updated_at":"2026-01-07T16:40:39.7119758+01:00"}
{"id":"quote-of-the-day-un0","title":"Show dynamic version from app config","description":"Settings shows hardcoded v1.0.0 instead of pulling from app.config.js","status":"open","priority":3,"issue_type":"bug","created_at":"2026-01-07T16:40:09.6169965+01:00","created_by":"GLi","updated_at":"2026-01-07T16:40:09.6169965+01:00"}
{"id":"quote-of-the-day-w2r","title":"Support multi-category selection in edit form","description":"Edit form only allows single category selection via picker, but the schema and import flow support multiple categories. Make edit form consistent.","status":"open","priority":3,"issue_type":"bug","created_at":"2026-01-07T16:40:46.2127949+01:00","created_by":"GLi","updated_at":"2026-01-07T16:40:46.2127949+01:00"}
